<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets">
<ui:composition template="../templates/template2.xhtml">
    <ui:define name="content">
        <script type="text/javascript">
            window.myfaces = window.myfaces || {};
            myfaces.config = myfaces.config || {};
            myfaces.config.responseHandler = myfaces._impl.xhrCore._AjaxResponseJSF22;

            var target = "./test.mockup";
            /**
             * ppr emitting function
             */
            function emitPPR(source, event, action, formName) {
                var Lang = myfaces._impl._util._Lang;

                document.getElementById(formName || "form1").action = target;
                jsf.ajax.request(/*String|Dom Node*/ source, /*|EVENT|*/ (window.event) ? window.event : event, /*{|OPTIONS|}*/ {op:action});
            }

        </script>


        <h:form id="form1" prependId="false">
            <input type="button" id="command1" value="update form1"
                           onclick="emitPPR(this, ('undefined' == typeof event)? null: event,'newviewstate', 'form1');"></input>
        </h:form>

        <h:form type="button" id="form2" prependId="false">
            <input type="button" id="command2" value="update 2"
                           onclick="emitPPR(this, ('undefined' == typeof event)? null: event, 'newviewstate2',
                           'form2');"></input>
        </h:form>

        <h:form id="centerForm">
        </h:form>
    </ui:define>
</ui:composition>
</html>